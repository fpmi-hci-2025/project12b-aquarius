# Диаграмма вариантов использования
![usecase](https://github.com/fpmi-hci-2025/project12b-aquarius/blob/6792df8de6037109f95dfc3b903389ca987502a3/img/usecaseBookStore.svg?raw=true)

# Сценарии

# Поиск книг

**Предусловие:** Покупатель находится на сайте.

## Основной поток:
1. Покупатель вводит в поисковую строку название, автора или ключевые слова
2. Покупатель нажимает "Найти"
3. Система выполняет поиск и отображает результат
4. Сценарий завершается

## Альтернативный поток:

### Слишком общий запрос
- **Условие:** Запрос возвращает 1000+ результатов
- **Действия системы:**
  - Отображает сообщение "Слишком много результатов. Уточните запрос"
  - Предлагает воспользоваться фильтрами для сужения поиска
  - Показывает наиболее релевантные товары из результатов
- **Результат:** Покупатель уточняет запрос или применяет фильтры

## Исключение:

### Ничего не найдено
- **Условие:** По запросу нет результатов
- **Действия системы:**
  - Отображает сообщение "По вашему запросу ничего не найдено"
  - Предлагает изменить критерии поиска
  - Показывает похожие категории товаров
- **Результат:** Покупатель может изменить запрос или перейти в каталог


# Просмотр и обработка заказов

**Предусловие:** Администратор авторизован в админ-панели.

## Основной поток:
1. Администратор переходит в раздел "Заказы"
2. Система отображает список всех заказов с статусами, номерами и клиентами
3. Администратор просматривает список
4. Администратор выбирает заказ для обработки
5. Система отображает детальную информацию о заказе
6. Администратор подтверждает обработку заказа
7. Система сохраняет изменения
8. Сценарий завершается

## Альтернативный поток

###  Отмена заказа
- **Условие:** Требуется отменить заказ
- **Действия:**
  1. Администратор нажимает кнопку "Отменить заказ"
  2. Система запрашивает причину отмены (обязательное поле)
  3. Администратор вводит причину отмены и подтверждает действие
  4. Система выполняет следующие действия:
     - Меняет статус заказа на "Отменен"
     - Разблокирует резервирование товаров на складе
     - Инициирует возврат средств (для оплаченных заказов)
     - Отправляет уведомление покупателю с указанием причины отмены
  5. Заказ перемещается в архив отмененных заказов
- **Результат:** Заказ отменен, товары возвращены на склад, покупатель уведомлен

## Исключение
- **Условие:** Некоторые товары из заказа отсутствуют на складе
- **Действия:**
  1. Администратор отмечает отсутствующие товары в заказе
  2. Покупатель уведомляется о изменениях в заказе
- **Результат:** Заказ обработан с учетом доступности товаров


# Регистрация

**Предусловие:** Покупатель не авторизован в системе.

## Основной поток:
1. Покупатель нажимает кнопку "Регистрация"
2. Система отображает форму регистрации с полями:
   - Имя (обязательное поле)
   - Фамилия (обязательное поле)
   - E-mail (обязательное поле)
   - Пароль (обязательное поле)
   - Подтверждение пароля (обязательное поле)
3. Покупатель заполняет все поля формы
4. Покупатель нажимает кнопку "Зарегистрироваться"
5. Система проверяет корректность введенных данных
6. Система создает новую учетную запись
7. Система автоматически авторизует покупателя
8. Система перенаправляет на главную страницу
9. Сценарий завершается успешно

## Альтернативный поток:

### A. Email уже занят
- **Условие:** Введенный email уже существует в системе
- **Действия системы:**
  - Отображает сообщение об ошибке: "Пользователь с таким email уже зарегистрирован"
  - Подсвечивает поле ввода email
  - Сохраняет остальные введенные данные в форме
- **Результат:** Покупатель может использовать другой email

## Исключение

### Незаполненные обязательные поля
- **Условие:** Не все обязательные поля заполнены
- **Действия системы:**
  - Отображает сообщение: "Заполните все обязательные поля"
  - Подсвечивает незаполненные обязательные поля
  - Сохраняет уже введенные данные
- **Результат:** Покупатель заполняет недостающие поля и повторяет попытку регистрации


