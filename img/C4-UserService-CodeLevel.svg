<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="1316px" preserveAspectRatio="none" style="width:930px;height:1316px;background:#FFFFFF;" version="1.1" viewBox="0 0 930 1316" width="930px" zoomAndPan="magnify"><title>C4 Model &#8212; Level 4 (User Service - Code Level)</title><defs/><g><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="371.4785" x="272.6743" y="22.9951">C4 Model &#8212; Level 4 (User Service - Code Level)</text></g><!--cluster Controllers (API Layer)--><g class="cluster" data-entity="Controllers .API Layer." data-source-line="4" data-uid="ent0002" id="cluster_Controllers .API Layer."><path d="M363.5,43.2969 L544.6475,43.2969 A3.75,3.75 0 0 1 547.1475,45.7969 L554.1475,65.5938 L604.5,65.5938 A2.5,2.5 0 0 1 607,68.0938 L607,204.9769 A2.5,2.5 0 0 1 604.5,207.4769 L363.5,207.4769 A2.5,2.5 0 0 1 361,204.9769 L361,45.7969 A2.5,2.5 0 0 1 363.5,43.2969" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="361" x2="554.1475" y1="65.5938" y2="65.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="180.1475" x="365" y="58.292">Controllers (API Layer)</text></g><!--cluster Services (Business Logic)--><g class="cluster" data-entity="Services .Business Logic." data-source-line="13" data-uid="ent0004" id="cluster_Services .Business Logic."><path d="M334.5,256.4769 L536.1348,256.4769 A3.75,3.75 0 0 1 538.6348,258.9769 L545.6348,278.7738 L633.5,278.7738 A2.5,2.5 0 0 1 636,281.2738 L636,641.2469 A2.5,2.5 0 0 1 633.5,643.7469 L334.5,643.7469 A2.5,2.5 0 0 1 332,641.2469 L332,258.9769 A2.5,2.5 0 0 1 334.5,256.4769" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="332" x2="545.6348" y1="278.7738" y2="278.7738"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="200.6348" x="336" y="271.472">Services (Business Logic)</text></g><!--cluster Domain / Models--><g class="cluster" data-entity="Domain . Models" data-source-line="32" data-uid="ent0008" id="cluster_Domain . Models"><path d="M399.5,1096.4169 L531.5996,1096.4169 A3.75,3.75 0 0 1 534.0996,1098.9169 L541.0996,1118.7138 L554.5,1118.7138 A2.5,2.5 0 0 1 557,1121.2138 L557,1306.9969 A2.5,2.5 0 0 1 554.5,1309.4969 L399.5,1309.4969 A2.5,2.5 0 0 1 397,1306.9969 L397,1098.9169 A2.5,2.5 0 0 1 399.5,1096.4169" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="397" x2="541.0996" y1="1118.7138" y2="1118.7138"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="131.0996" x="401" y="1111.412">Domain / Models</text></g><!--cluster Repositories (Data Access)--><g class="cluster" data-entity="Repositories .Data Access." data-source-line="44" data-uid="ent0010" id="cluster_Repositories .Data Access."><path d="M8.5,676.7469 L221.7354,676.7469 A3.75,3.75 0 0 1 224.2354,679.2469 L231.2354,699.0438 L231.5,699.0438 A2.5,2.5 0 0 1 234,701.5438 L234,1044.9169 A2.5,2.5 0 0 1 231.5,1047.4169 L8.5,1047.4169 A2.5,2.5 0 0 1 6,1044.9169 L6,679.2469 A2.5,2.5 0 0 1 8.5,676.7469" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="231.2354" y1="699.0438" y2="699.0438"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="212.2354" x="10" y="691.742">Repositories (Data Access)</text></g><!--cluster Security / Utils--><g class="cluster" data-entity="Security . Utils" data-source-line="61" data-uid="ent0014" id="cluster_Security . Utils"><path d="M260.5,693.0469 L377.7178,693.0469 A3.75,3.75 0 0 1 380.2178,695.5469 L387.2178,715.3438 L684.5,715.3438 A2.5,2.5 0 0 1 687,717.8438 L687,1020.4769 A2.5,2.5 0 0 1 684.5,1022.9769 L260.5,1022.9769 A2.5,2.5 0 0 1 258,1020.4769 L258,695.5469 A2.5,2.5 0 0 1 260.5,693.0469" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="258" x2="387.2178" y1="715.3438" y2="715.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="116.2178" x="262" y="708.042">Security / Utils</text></g><!--class UserController--><g class="entity" data-entity="UserController" data-source-line="5" data-uid="ent0003" id="entity_UserController"><rect fill="#F1F1F1" height="113.1875" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="214.3232" x="376.84" y="78.2969"/><ellipse cx="429.2101" cy="94.2969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M432.1789,99.9375 Q431.6007,100.2344 430.9601,100.375 Q430.3195,100.5313 429.6164,100.5313 Q427.1164,100.5313 425.7882,98.8906 Q424.4757,97.2344 424.4757,94.1094 Q424.4757,90.9844 425.7882,89.3281 Q427.1164,87.6719 429.6164,87.6719 Q430.3195,87.6719 430.9601,87.8281 Q431.6164,87.9844 432.1789,88.2813 L432.1789,91 Q431.5539,90.4219 430.9601,90.1563 Q430.3664,89.875 429.7414,89.875 Q428.3976,89.875 427.7101,90.9531 Q427.0226,92.0156 427.0226,94.1094 Q427.0226,96.2031 427.7101,97.2813 Q428.3976,98.3438 429.7414,98.3438 Q430.3664,98.3438 430.9601,98.0781 Q431.5539,97.7969 432.1789,97.2188 L432.1789,99.9375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.083" x="449.7101" y="99.1436">UserController</text><line style="stroke:#181818;stroke-width:0.5;" x1="377.84" x2="590.1632" y1="110.2969" y2="110.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="377.84" x2="590.1632" y1="118.2969" y2="118.2969"/><ellipse cx="387.84" cy="131.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184.085" x="396.84" y="135.292">registerUser(requestData)</text><ellipse cx="387.84" cy="148.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154.5195" x="396.84" y="151.5889">loginUser(credentials)</text><ellipse cx="387.84" cy="164.5391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="188.3232" x="396.84" y="167.8857">updateProfile(userId, data)</text><ellipse cx="387.84" cy="180.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135.8711" x="396.84" y="184.1826">getUserInfo(userId)</text></g><!--class IUserService--><g class="entity" data-entity="IUserService" data-source-line="14" data-uid="ent0005" id="entity_IUserService"><rect fill="#F1F1F1" height="113.1875" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="267.6094" x="350.2" y="291.4769"/><ellipse cx="435.8646" cy="307.4769" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M431.7864,303.2425 L431.7864,301.0863 L439.1771,301.0863 L439.1771,303.2425 L436.7083,303.2425 L436.7083,311.3206 L439.1771,311.3206 L439.1771,313.4769 L431.7864,313.4769 L431.7864,311.3206 L434.2552,311.3206 L434.2552,303.2425 L431.7864,303.2425 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="87.7803" x="456.3646" y="312.3236">IUserService</text><line style="stroke:#181818;stroke-width:0.5;" x1="351.2" x2="616.8094" y1="323.4769" y2="323.4769"/><line style="stroke:#181818;stroke-width:0.5;" x1="351.2" x2="616.8094" y1="331.4769" y2="331.4769"/><ellipse cx="361.2" cy="345.1253" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.1162" x="370.2" y="348.472">createUser(data)</text><ellipse cx="361.2" cy="361.4222" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="241.6094" x="370.2" y="364.7689">authenticateUser(login, password)</text><ellipse cx="361.2" cy="377.7191" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.1484" x="370.2" y="381.0657">updateUser(userId, data)</text><ellipse cx="361.2" cy="394.0159" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.2803" x="370.2" y="397.3626">getUserById(userId)</text></g><!--class UserServiceImpl--><g class="entity" data-entity="UserServiceImpl" data-source-line="21" data-uid="ent0006" id="entity_UserServiceImpl"><rect fill="#F1F1F1" height="162.0781" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="271.5605" x="348.22" y="465.6669"/><ellipse cx="422.6531" cy="481.6669" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M425.6219,487.3075 Q425.0437,487.6044 424.4031,487.745 Q423.7625,487.9013 423.0594,487.9013 Q420.5594,487.9013 419.2312,486.2606 Q417.9187,484.6044 417.9187,481.4794 Q417.9187,478.3544 419.2312,476.6981 Q420.5594,475.0419 423.0594,475.0419 Q423.7625,475.0419 424.4031,475.1981 Q425.0594,475.3544 425.6219,475.6513 L425.6219,478.37 Q424.9969,477.7919 424.4031,477.5263 Q423.8094,477.245 423.1844,477.245 Q421.8406,477.245 421.1531,478.3231 Q420.4656,479.3856 420.4656,481.4794 Q420.4656,483.5731 421.1531,484.6513 Q421.8406,485.7138 423.1844,485.7138 Q423.8094,485.7138 424.4031,485.4481 Q424.9969,485.1669 425.6219,484.5888 L425.6219,487.3075 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.1943" x="443.1531" y="486.5136">UserServiceImpl</text><line style="stroke:#181818;stroke-width:0.5;" x1="349.22" x2="618.7805" y1="497.6669" y2="497.6669"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="356.22" y="508.3153"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="225.8867" x="368.22" y="514.662">userRepository: IUserRepository</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="356.22" y="524.6122"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="245.5605" x="368.22" y="530.9589">passwordHasher: IPasswordHasher</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="356.22" y="540.9091"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="218.3877" x="368.22" y="547.2557">tokenManager: ITokenManager</text><line style="stroke:#181818;stroke-width:0.5;" x1="349.22" x2="618.7805" y1="554.5575" y2="554.5575"/><ellipse cx="359.22" cy="568.2059" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.1162" x="368.22" y="571.5526">createUser(data)</text><ellipse cx="359.22" cy="584.5028" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="241.6094" x="368.22" y="587.8495">authenticateUser(login, password)</text><ellipse cx="359.22" cy="600.7997" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.1484" x="368.22" y="604.1464">updateUser(userId, data)</text><ellipse cx="359.22" cy="617.0966" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.2803" x="368.22" y="620.4432">getUserById(userId)</text></g><!--class User--><g class="entity" data-entity="User" data-source-line="33" data-uid="ent0009" id="entity_User"><rect fill="#F1F1F1" height="162.0781" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127.9854" x="413.01" y="1131.4169"/><ellipse cx="456.8438" cy="1147.4169" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M459.8126,1153.0575 Q459.2345,1153.3544 458.5938,1153.495 Q457.9532,1153.6513 457.2501,1153.6513 Q454.7501,1153.6513 453.422,1152.0106 Q452.1095,1150.3544 452.1095,1147.2294 Q452.1095,1144.1044 453.422,1142.4481 Q454.7501,1140.7919 457.2501,1140.7919 Q457.9532,1140.7919 458.5938,1140.9481 Q459.2501,1141.1044 459.8126,1141.4013 L459.8126,1144.12 Q459.1876,1143.5419 458.5938,1143.2763 Q458.0001,1142.995 457.3751,1142.995 Q456.0313,1142.995 455.3438,1144.0731 Q454.6563,1145.1356 454.6563,1147.2294 Q454.6563,1149.3231 455.3438,1150.4013 Q456.0313,1151.4638 457.3751,1151.4638 Q458.0001,1151.4638 458.5938,1151.1981 Q459.1876,1150.9169 459.8126,1150.3388 L459.8126,1153.0575 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="477.2514" y="1152.2636">User</text><line style="stroke:#181818;stroke-width:0.5;" x1="414.01" x2="539.9954" y1="1163.4169" y2="1163.4169"/><ellipse cx="424.01" cy="1177.0653" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="12.7764" x="433.01" y="1180.412">id</text><ellipse cx="424.01" cy="1193.3622" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.7031" x="433.01" y="1196.7089">name</text><ellipse cx="424.01" cy="1209.6591" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.6094" x="433.01" y="1213.0057">email</text><ellipse cx="424.01" cy="1225.9559" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.8115" x="433.01" y="1229.3026">phone</text><ellipse cx="424.01" cy="1242.2528" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.9854" x="433.01" y="1245.5995">passwordHash</text><ellipse cx="424.01" cy="1258.5497" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26.8242" x="433.01" y="1261.8964">role</text><ellipse cx="424.01" cy="1274.8466" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.6445" x="433.01" y="1278.1932">preferences</text><line style="stroke:#181818;stroke-width:0.5;" x1="414.01" x2="539.9954" y1="1285.495" y2="1285.495"/></g><!--class IUserRepository--><g class="entity" data-entity="IUserRepository" data-source-line="45" data-uid="ent0011" id="entity_IUserRepository"><rect fill="#F1F1F1" height="113.1875" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158.8428" x="53.58" y="711.7469"/><ellipse cx="75.6592" cy="727.7469" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M71.581,723.5125 L71.581,721.3563 L78.9717,721.3563 L78.9717,723.5125 L76.5029,723.5125 L76.5029,731.5906 L78.9717,731.5906 L78.9717,733.7469 L71.581,733.7469 L71.581,731.5906 L74.0498,731.5906 L74.0498,723.5125 L71.581,723.5125 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="111.1113" x="91.2323" y="732.5936">IUserRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="54.58" x2="211.4228" y1="743.7469" y2="743.7469"/><line style="stroke:#181818;stroke-width:0.5;" x1="54.58" x2="211.4228" y1="751.7469" y2="751.7469"/><ellipse cx="64.58" cy="765.3953" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74.2314" x="73.58" y="768.742">save(user)</text><ellipse cx="64.58" cy="781.6922" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.8428" x="73.58" y="785.0389">findByEmail(email)</text><ellipse cx="64.58" cy="797.9891" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.959" x="73.58" y="801.3357">findById(userId)</text><ellipse cx="64.58" cy="814.2859" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.7881" x="73.58" y="817.6326">update(user)</text></g><!--class UserRepositoryImpl--><g class="entity" data-entity="UserRepositoryImpl" data-source-line="52" data-uid="ent0012" id="entity_UserRepositoryImpl"><rect fill="#F1F1F1" height="129.4844" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="169.5254" x="48.24" y="901.9369"/><ellipse cx="63.24" cy="917.9369" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M66.2088,923.5775 Q65.6306,923.8744 64.99,924.015 Q64.3494,924.1713 63.6463,924.1713 Q61.1463,924.1713 59.8181,922.5306 Q58.5056,920.8744 58.5056,917.7494 Q58.5056,914.6244 59.8181,912.9681 Q61.1463,911.3119 63.6463,911.3119 Q64.3494,911.3119 64.99,911.4681 Q65.6463,911.6244 66.2088,911.9213 L66.2088,914.64 Q65.5838,914.0619 64.99,913.7963 Q64.3963,913.515 63.7713,913.515 Q62.4275,913.515 61.74,914.5931 Q61.0525,915.6556 61.0525,917.7494 Q61.0525,919.8431 61.74,920.9213 Q62.4275,921.9838 63.7713,921.9838 Q64.3963,921.9838 64.99,921.7181 Q65.5838,921.4369 66.2088,920.8588 L66.2088,923.5775 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.5254" x="77.24" y="922.7836">UserRepositoryImpl</text><line style="stroke:#181818;stroke-width:0.5;" x1="49.24" x2="216.7654" y1="933.9369" y2="933.9369"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="56.24" y="944.5853"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96.9883" x="68.24" y="950.932">dbConnection</text><line style="stroke:#181818;stroke-width:0.5;" x1="49.24" x2="216.7654" y1="958.2338" y2="958.2338"/><ellipse cx="59.24" cy="971.8822" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74.2314" x="68.24" y="975.2289">save(user)</text><ellipse cx="59.24" cy="988.1791" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.8428" x="68.24" y="991.5257">findByEmail(email)</text><ellipse cx="59.24" cy="1004.4759" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.959" x="68.24" y="1007.8226">findById(userId)</text><ellipse cx="59.24" cy="1020.7728" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.7881" x="68.24" y="1024.1195">update(user)</text></g><!--class IPasswordHasher--><g class="entity" data-entity="IPasswordHasher" data-source-line="62" data-uid="ent0015" id="entity_IPasswordHasher"><rect fill="#F1F1F1" height="80.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="185.9131" x="274.04" y="728.0469"/><ellipse cx="304.2833" cy="744.0469" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M300.2052,739.8125 L300.2052,737.6563 L307.5958,737.6563 L307.5958,739.8125 L305.1271,739.8125 L305.1271,747.8906 L307.5958,747.8906 L307.5958,750.0469 L300.2052,750.0469 L300.2052,747.8906 L302.6739,747.8906 L302.6739,739.8125 L300.2052,739.8125 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="120.0391" x="321.6707" y="748.8936">IPasswordHasher</text><line style="stroke:#181818;stroke-width:0.5;" x1="275.04" x2="458.9531" y1="760.0469" y2="760.0469"/><line style="stroke:#181818;stroke-width:0.5;" x1="275.04" x2="458.9531" y1="768.0469" y2="768.0469"/><ellipse cx="285.04" cy="781.6953" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.2549" x="294.04" y="785.042">hash(password)</text><ellipse cx="285.04" cy="797.9922" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159.9131" x="294.04" y="801.3389">verify(password, hash)</text></g><!--class PasswordHasherImpl--><g class="entity" data-entity="PasswordHasherImpl" data-source-line="67" data-uid="ent0016" id="entity_PasswordHasherImpl"><rect fill="#F1F1F1" height="80.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="185.9131" x="274.04" y="926.3769"/><ellipse cx="292.397" cy="942.3769" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M295.3657,948.0175 Q294.7876,948.3144 294.147,948.455 Q293.5064,948.6113 292.8032,948.6113 Q290.3032,948.6113 288.9751,946.9706 Q287.6626,945.3144 287.6626,942.1894 Q287.6626,939.0644 288.9751,937.4081 Q290.3032,935.7519 292.8032,935.7519 Q293.5064,935.7519 294.147,935.9081 Q294.8032,936.0644 295.3657,936.3613 L295.3657,939.08 Q294.7407,938.5019 294.147,938.2363 Q293.5532,937.955 292.9282,937.955 Q291.5845,937.955 290.897,939.0331 Q290.2095,940.0956 290.2095,942.1894 Q290.2095,944.2831 290.897,945.3613 Q291.5845,946.4238 292.9282,946.4238 Q293.5532,946.4238 294.147,946.1581 Q294.7407,945.8769 295.3657,945.2988 L295.3657,948.0175 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.4531" x="307.143" y="947.2236">PasswordHasherImpl</text><line style="stroke:#181818;stroke-width:0.5;" x1="275.04" x2="458.9531" y1="958.3769" y2="958.3769"/><line style="stroke:#181818;stroke-width:0.5;" x1="275.04" x2="458.9531" y1="966.3769" y2="966.3769"/><ellipse cx="285.04" cy="980.0253" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.2549" x="294.04" y="983.372">hash(password)</text><ellipse cx="285.04" cy="996.3222" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159.9131" x="294.04" y="999.6689">verify(password, hash)</text></g><!--class ITokenManager--><g class="entity" data-entity="ITokenManager" data-source-line="72" data-uid="ent0018" id="entity_ITokenManager"><rect fill="#F1F1F1" height="80.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="175.4951" x="495.25" y="728.0469"/><ellipse cx="526.1301" cy="744.0469" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M522.052,739.8125 L522.052,737.6563 L529.4426,737.6563 L529.4426,739.8125 L526.9738,739.8125 L526.9738,747.8906 L529.4426,747.8906 L529.4426,750.0469 L522.052,750.0469 L522.052,747.8906 L524.5207,747.8906 L524.5207,739.8125 L522.052,739.8125 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="108.2061" x="543.659" y="748.8936">ITokenManager</text><line style="stroke:#181818;stroke-width:0.5;" x1="496.25" x2="669.7451" y1="760.0469" y2="760.0469"/><line style="stroke:#181818;stroke-width:0.5;" x1="496.25" x2="669.7451" y1="768.0469" y2="768.0469"/><ellipse cx="506.25" cy="781.6953" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.5947" x="515.25" y="785.042">generateToken(user)</text><ellipse cx="506.25" cy="797.9922" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.4951" x="515.25" y="801.3389">validateToken(token)</text></g><!--class TokenManagerImpl--><g class="entity" data-entity="TokenManagerImpl" data-source-line="77" data-uid="ent0019" id="entity_TokenManagerImpl"><rect fill="#F1F1F1" height="80.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="175.4951" x="495.25" y="926.3769"/><ellipse cx="514.2438" cy="942.3769" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M517.2125,948.0175 Q516.6344,948.3144 515.9938,948.455 Q515.3531,948.6113 514.65,948.6113 Q512.15,948.6113 510.8219,946.9706 Q509.5094,945.3144 509.5094,942.1894 Q509.5094,939.0644 510.8219,937.4081 Q512.15,935.7519 514.65,935.7519 Q515.3531,935.7519 515.9938,935.9081 Q516.65,936.0644 517.2125,936.3613 L517.2125,939.08 Q516.5875,938.5019 515.9938,938.2363 Q515.4,937.955 514.775,937.955 Q513.4313,937.955 512.7438,939.0331 Q512.0563,940.0956 512.0563,942.1894 Q512.0563,944.2831 512.7438,945.3613 Q513.4313,946.4238 514.775,946.4238 Q515.4,946.4238 515.9938,946.1581 Q516.5875,945.8769 517.2125,945.2988 L517.2125,948.0175 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134.6201" x="529.1313" y="947.2236">TokenManagerImpl</text><line style="stroke:#181818;stroke-width:0.5;" x1="496.25" x2="669.7451" y1="958.3769" y2="958.3769"/><line style="stroke:#181818;stroke-width:0.5;" x1="496.25" x2="669.7451" y1="966.3769" y2="966.3769"/><ellipse cx="506.25" cy="980.0253" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.5947" x="515.25" y="983.372">generateToken(user)</text><ellipse cx="506.25" cy="996.3222" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.4951" x="515.25" y="999.6689">validateToken(token)</text></g><!--reverse link IUserService to UserServiceImpl--><g class="link" data-entity-1="IUserService" data-entity-2="UserServiceImpl" data-source-line="22" data-uid="lnk7" id="link_IUserService_UserServiceImpl"><path d="M471.3525,423.1287 C470.3025,441.8587 471.01,445.1469 471.44,465.3469" fill="none" id="IUserService-backto-UserServiceImpl" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="472.36,405.1569,465.3619,422.7928,477.3431,423.4645,472.36,405.1569" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link IUserService to UserServiceImpl--><g class="link" data-entity-1="IUserService" data-entity-2="UserServiceImpl" data-source-line="85" data-uid="lnk22" id="link_IUserService_UserServiceImpl"><path codeLine="85" d="M497.3853,423.1259 C498.4853,441.8559 497.76,445.1469 497.3,465.3469" fill="none" id="IUserService-backto-UserServiceImpl-1" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="496.33,405.1569,491.3956,423.4777,503.375,422.7741,496.33,405.1569" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link IUserRepository to UserRepositoryImpl--><g class="link" data-entity-1="IUserRepository" data-entity-2="UserRepositoryImpl" data-source-line="53" data-uid="lnk13" id="link_IUserRepository_UserRepositoryImpl"><path d="M120.3561,843.3089 C119.0261,867.1189 119.89,877.0269 120.96,901.6469" fill="none" id="IUserRepository-backto-UserRepositoryImpl" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="121.36,825.3369,114.3654,842.9742,126.3468,843.6435,121.36,825.3369" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link IUserRepository to UserRepositoryImpl--><g class="link" data-entity-1="IUserRepository" data-entity-2="UserRepositoryImpl" data-source-line="91" data-uid="lnk26" id="link_IUserRepository_UserRepositoryImpl"><path codeLine="91" d="M146.3941,843.3054 C147.8041,867.1154 146.88,877.0269 145.75,901.6469" fill="none" id="IUserRepository-backto-UserRepositoryImpl-1" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="145.33,825.3369,140.4046,843.6601,152.3836,842.9507,145.33,825.3369" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link IPasswordHasher to PasswordHasherImpl--><g class="link" data-entity-1="IPasswordHasher" data-entity-2="PasswordHasherImpl" data-source-line="68" data-uid="lnk17" id="link_IPasswordHasher_PasswordHasherImpl"><path d="M354.925,827.0061 C351.895,861.0661 353.49,891.9569 356.52,926.0069" fill="none" id="IPasswordHasher-backto-PasswordHasherImpl" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="356.52,809.0769,348.9486,826.4744,360.9014,827.5377,356.52,809.0769" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link IPasswordHasher to PasswordHasherImpl--><g class="link" data-entity-1="IPasswordHasher" data-entity-2="PasswordHasherImpl" data-source-line="92" data-uid="lnk27" id="link_IPasswordHasher_PasswordHasherImpl"><path codeLine="92" d="M379.7837,826.998 C382.9837,861.058 381.3,891.9569 378.09,926.0069" fill="none" id="IPasswordHasher-backto-PasswordHasherImpl-1" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="378.1,809.0769,373.81,827.5592,385.7574,826.4367,378.1,809.0769" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ITokenManager to TokenManagerImpl--><g class="link" data-entity-1="ITokenManager" data-entity-2="TokenManagerImpl" data-source-line="78" data-uid="lnk20" id="link_ITokenManager_TokenManagerImpl"><path d="M570.925,827.0061 C567.895,861.0661 569.49,891.9569 572.52,926.0069" fill="none" id="ITokenManager-backto-TokenManagerImpl" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="572.52,809.0769,564.9486,826.4744,576.9014,827.5377,572.52,809.0769" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ITokenManager to TokenManagerImpl--><g class="link" data-entity-1="ITokenManager" data-entity-2="TokenManagerImpl" data-source-line="93" data-uid="lnk28" id="link_ITokenManager_TokenManagerImpl"><path codeLine="93" d="M595.7837,826.998 C598.9837,861.058 597.3,891.9569 594.09,926.0069" fill="none" id="ITokenManager-backto-TokenManagerImpl-1" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="594.1,809.0769,589.81,827.5592,601.7574,826.4367,594.1,809.0769" style="stroke:#181818;stroke-width:1;"/></g><!--link UserController to IUserService--><g class="link" data-entity-1="UserController" data-entity-2="IUserService" data-source-line="84" data-uid="lnk21" id="link_UserController_IUserService"><path codeLine="84" d="M484,191.9269 C484,222.5969 484,254.4869 484,285.1369" fill="none" id="UserController-to-IUserService" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="484,291.1369,488,282.1369,484,286.1369,480,282.1369,484,291.1369" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.3013" x="485" y="236.5438">&#1074;&#1099;&#1079;&#1099;&#1074;&#1072;&#1077;&#1090;</text></g><!--link UserServiceImpl to IUserRepository--><g class="link" data-entity-1="UserServiceImpl" data-entity-2="IUserRepository" data-source-line="87" data-uid="lnk23" id="link_UserServiceImpl_IUserRepository"><path codeLine="87" d="M347.9,615.5969 C317.71,632.0169 286.3,650.2169 258,668.7469 C238.35,681.6169 222.671,693.0912 204.211,707.6512" fill="none" id="UserServiceImpl-to-IUserRepository" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="199.5,711.3669,209.0436,708.934,203.4258,708.2704,204.0893,702.6526,199.5,711.3669" style="stroke:#181818;stroke-width:1;"/></g><!--link UserServiceImpl to IPasswordHasher--><g class="link" data-entity-1="UserServiceImpl" data-entity-2="IPasswordHasher" data-source-line="88" data-uid="lnk24" id="link_UserServiceImpl_IPasswordHasher"><path codeLine="88" d="M441.1,628.2469 C423.03,662.1569 405.6516,694.7918 390.9016,722.4718" fill="none" id="UserServiceImpl-to-IPasswordHasher" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="388.08,727.7669,395.8425,721.7053,390.4314,723.3543,388.7824,717.9431,388.08,727.7669" style="stroke:#181818;stroke-width:1;"/></g><!--link UserServiceImpl to ITokenManager--><g class="link" data-entity-1="UserServiceImpl" data-entity-2="ITokenManager" data-source-line="89" data-uid="lnk25" id="link_UserServiceImpl_ITokenManager"><path codeLine="89" d="M520.3,628.2469 C535.59,662.1569 550.2255,694.6164 562.6955,722.2964" fill="none" id="UserServiceImpl-to-ITokenManager" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="565.16,727.7669,565.1103,717.9181,563.1063,723.2081,557.8163,721.2041,565.16,727.7669" style="stroke:#181818;stroke-width:1;"/></g><!--link UserRepositoryImpl to User--><g class="link" data-entity-1="UserRepositoryImpl" data-entity-2="User" data-source-line="95" data-uid="lnk29" id="link_UserRepositoryImpl_User"><path codeLine="95" d="M218.03,1027.9369 C278.22,1070.5869 352.7843,1123.4382 407.7443,1162.3782" fill="none" id="UserRepositoryImpl-to-User" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="412.64,1165.8469,407.6089,1157.38,408.5602,1162.9563,402.9839,1163.9076,412.64,1165.8469" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.7061" x="285" y="1076.4838">&#1091;&#1087;&#1088;&#1072;&#1074;&#1083;&#1103;&#1077;&#1090; &#1086;&#1073;&#1098;&#1077;&#1082;&#1090;&#1072;&#1084;&#1080;</text></g><!--link UserServiceImpl to User--><g class="link" data-entity-1="UserServiceImpl" data-entity-2="User" data-source-line="96" data-uid="lnk30" id="link_UserServiceImpl_User"><path codeLine="96" d="M620.06,602.1869 C646.81,619.3769 671.4,641.2769 687,668.7469 C771.88,818.1769 764.2,901.8769 687,1055.4169 C656.8,1115.4769 596.6763,1155.5234 546.8163,1180.9234" fill="none" id="UserServiceImpl-to-User" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="541.47,1183.6469,551.3051,1183.1258,545.9252,1181.3773,547.6737,1175.9974,541.47,1183.6469" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174.8271" x="748" y="868.0038">&#1089;&#1086;&#1079;&#1076;&#1072;&#1105;&#1090; &#1080; &#1084;&#1086;&#1076;&#1080;&#1092;&#1080;&#1094;&#1080;&#1088;&#1091;&#1077;&#1090;</text></g><!--SRC=[nLNDRXCn4BxlKunwOIEQSk5K8QJ-816fbIgW3s1s9udLZHri9oY2Icr17EW18N57l46fg5grLVeAtbVWIHZlJx9smgs8moQxdiypdpz_7XjkCeIjnx0hKypWzz4tsC4nlJs6U5-ZWfUenZn1QCCM8SfWAueUWFrkp-orlSXFybE8xPsTGdviR-mq_s9lMz6G9GUiXx2o9OLHCijGQOWtzZgmmoQeMYlmBW98CgOrk49pM140UAYmnxL1vQAnmZSZr6QR6TOgmvdiSL744eKf2iDPfglOQ9WoWtjATdc6yOX0dNGLqlda7XetjIEwiWgxm65q6Cs9LoidrfiZpGKIqHsgcLJKkI1kNKRIT5ogMgUAF74Y1WMzHbasCdt7DAbZnI9MOKWgl9KgzUWNWBzptvnqKe-x9sT5fpCOPi3f1mTKLo-ZsdOvNk1GQcwacgoNcFb02QePFcUwZuf0Uzv02JBo0CKk4oIVWxngVFutLPexkYq7Z0juL9fTXnQizuwdvRzW0opVaEPbvUkmBqKrsjIaigpCwfZ2BYeKv9y56ZDjkJENipHi90JKovqrtugQe6RZqjNLshjSf9kJPuvaN53rnZr1PZhEvWV6cLTRwfq5CktqDHrTWOdXKlmJUlwPJ4QAcmdjuRxXzHOs1FDjMGlMfwyuiDCO5UzEPgEhu42187ws1K7kgrY3V_FCr0bxA52H9aMiAUoOPJoT1OhJ5ooWcMw1_ltKEYmkWn_sdFh-fRsAWcRURZ_rkyuw4FJKNj9pJZS8tH-H5t_oVcqjR65H5FQqMTf6ergA2VhKKepNgABGvpD2_j68mkqlS8kEYNoT2rIuBUNwWgFdg1LjQHto3_OkFoArpkqDoKoQWPtQd_bdUs6lynCAt5RAXskh4nmJ_jB-icVvLpVv2cZ6bBwlye_qVABdY8fGuZy0]--></g></svg>